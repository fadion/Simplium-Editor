var Editor={config:{selector:".editor",skin:"simplium",width:600,lang:"en",path:"editor",},lang_vars:{},loadEditor:function(a){$.extend(this.config,a);if($(this.config.selector).length){$.getScript(this.config.path+"/jquery/rangyinputs.jquery.js");$.ajax({url:this.config.path+"/lang/"+this.config.lang+".js",dataType:"json",async:false,success:function(b){Editor.lang_vars=b},error:function(){alert("Language not found!")}});this.createHTML();this.createIcons();this.catchEvents()}},catchEvents:function(){$("#editorIcons a, #editorSmileys a").click(function(){icon=$(this).attr("rel");icon_long="";switch(icon){case"font":icon_long="#editorFont";break;case"color":icon_long="#editorColors";break;case"smileys":icon_long="#smileys-popup"}if(icon_long!=""){$(icon_long).css({top:$(this).position().top+25,left:$(this).position().left-$(icon_long).width()/2}).fadeIn(300);$("#editorColors, #smileys-popup, #editorFont").not(icon_long).fadeOut(300);return false}Editor.findBBCode(icon)});$("#editorFont li a, #editorColors a").click(function(){Editor.findBBCode($(this).attr("rel"))});$("#smileys-popup a").click(function(){Editor.findSmiley($(this).attr("rel"))});$(document).click(function(){$("#editorFont, #editorColors, #smileys-popup").fadeOut("slow")});$("#editorWrapper textarea").keydown(function(a){if(a.ctrlKey||a.metaKey){if(a.keyCode==66){Editor.addBBCode("[b]","[/b]");return false}if(a.keyCode==73){Editor.addBBCode("[i]","[/i]");return false}if(a.keyCode==85){Editor.addBBCode("[u]","[/u]");return false}if(a.keyCode==76){Editor.addBBCode("[url=]","[/url]");return false}}})},findBBCode:function(a){if(a.indexOf("color")!=-1){a=a.replace("color-","");this.addBBCode("[color="+a+"]","[/color]");return false}switch(a){case"bold":this.addBBCode("[b]","[/b]");break;case"italic":this.addBBCode("[i]","[/i]");break;case"underline":this.addBBCode("[u]","[/u]");break;case"strikethrough":this.addBBCode("[s]","[/s]");break;case"bullets":this.addBBCode("[list]\n[*]","\n[/list]");break;case"numbers":this.addBBCode("[list=1]\n[*]","\n[/list]");break;case"list_item":this.addBBCode("[*]","");break;case"link":this.addBBCode("[url=]","[/url]");break;case"picture":this.addBBCode("[img]","[/img]");break;case"video":this.addBBCode("[youtube]","[/youtube]");break;case"quote":this.addBBCode("[quote]","[/quote]");break;case"code":this.addBBCode("[code]","[/code]");break;case"font60":this.addBBCode("[font=60]","[/font]");break;case"font80":this.addBBCode("[font=80]","[/font]");break;case"font100":this.addBBCode("[font=100]","[/font]");break;case"font120":this.addBBCode("[font=120]","[/font]");break;case"font140":this.addBBCode("[font=140]","[/font]");break}},addBBCode:function(a,b){textarea=$("#editorWrapper textarea");textarea.focus();range=textarea.getSelection();if(range.start==range.end){textarea.insertText(a+b,range.start);textarea.setSelection(range.start+a.length)}else{textarea.surroundSelectedText(a,b)}textarea.focus()},findSmiley:function(a){switch(a){case"smile":this.addSmiley(":)");break;case"grin":this.addSmiley(":D");break;case"sad":this.addSmiley(":(");break;case"wink":this.addSmiley(";)");break;case"confused":this.addSmiley(":o");break;case"tongue":this.addSmiley(":P");break;case"shy":this.addSmiley(":$");break;case"angry":this.addSmiley(":@");break;case"dislike":this.addSmiley(":S");break;case"boss":this.addSmiley("$-)");break}},addSmiley:function(a){textarea=$("#editorWrapper textarea");textarea.focus();range=textarea.getSelection();if(range.start==range.end){textarea.insertText(a,range.start,true)}else{textarea.replaceSelectedText(a)}textarea.focus()},createHTML:function(){textarea_name=$(this.config.selector).attr("name");$(this.config.selector).replaceWith('<div id="editorWrapper" style="width:'+this.config.width+'px"></div>');$("#editorWrapper").html('<div id="editorToolbar"><ul id="editorIcons"></ul><ul id="editorSmileys"></ul></div><textarea></textarea><div id="editorShadow"><div id="shadow-left"></div><div id="shadow-middle"></div><div id="shadow-right"></div></div><ul id="editorFont"></ul><div id="editorColors"></div><div id="smileys-popup"></div>');$("#editorFont, #editorColors, #smileys-popup").hide();$("#shadow-middle").css("width",this.config.width-($("#shadow-left").width()+$("#shadow-right").width())+"px");$("#editorWrapper").find("textarea").attr("name",textarea_name)},createIcons:function(){html="";html='<li><a rel="bold"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/bold.png" alt="'+this.lang_vars.bb_bold+'" title="'+this.lang_vars.bb_bold+'" /></a></li>';html+='<li><a rel="italic"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/italic.png" alt="'+this.lang_vars.bb_italic+'" title="'+this.lang_vars.bb_italic+'" /></a></li>';html+='<li><a rel="underline"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/underline.png" alt="'+this.lang_vars.bb_underline+'" title="'+this.lang_vars.bb_underline+'" /></a></li>';html+='<li><a rel="strikethrough"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/strikethrough.png" alt="'+this.lang_vars.bb_strikethrough+'" title="'+this.lang_vars.bb_strikethrough+'" /></a></li>';
html+='<li><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/seperator.png" alt="'+this.lang_vars.seperator+'" /></li>';html+='<li><a rel="bullets"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/bullets.png" alt="'+this.lang_vars.bb_bullets+'" title="'+this.lang_vars.bb_bullets+'" /></a></li>';html+='<li><a rel="numbers"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/numbers.png" alt="'+this.lang_vars.bb_numbers+'" title="'+this.lang_vars.bb_numbers+'" /></a></li>';html+='<li><a rel="list_item"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/list_item.png" alt="'+this.lang_vars.bb_item+'" title="'+this.lang_vars.bb_item+'" /></a></li>';html+='<li><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/seperator.png" alt="'+this.lang_vars.seperator+'" /></li>';html+='<li><a rel="link"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/link.png" alt="'+this.lang_vars.bb_link+'" title="'+this.lang_vars.bb_link+'" /></a></li>';html+='<li><a rel="picture"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/picture.png" alt="'+this.lang_vars.bb_picture+'" title="'+this.lang_vars.bb_picture+'" /></a></li>';html+='<li><a rel="video"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/video.png" alt="'+this.lang_vars.bb_video+'" title="'+this.lang_vars.bb_video+'" /></a></li>';html+='<li><a rel="quote"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/quote.png" alt="'+this.lang_vars.bb_quote+'" title="'+this.lang_vars.bb_quote+'" /></a></li>';html+='<li><a rel="code"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/code.png" alt="'+this.lang_vars.bb_code+'" title="'+this.lang_vars.bb_code+'" /></a></li>';html+='<li><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/seperator.png" alt="'+this.lang_vars.seperator+'" /></li>';html+='<li><a rel="font"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/font.png" alt="'+this.lang_vars.bb_font+'" title="'+this.lang_vars.bb_font+'" /></a></li>';html+='<li><a rel="color"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/color.png" alt="'+this.lang_vars.bb_color+'" title="'+this.lang_vars.bb_color+'" /></a></li>';$("#editorIcons").html(html);$("#editorSmileys").html('<li><a rel="smileys"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/smile.png" alt="'+this.lang_vars.sm_list+'" title="'+this.lang_vars.sm_list+'" /></li></a>');html='<li><a rel="font60">'+this.lang_vars.font_60+"</a></li>";html+='<li><a rel="font80">'+this.lang_vars.font_80+"</a><br /></li>";html+='<li><a rel="font100">'+this.lang_vars.font_100+"</a><br /></li>";html+='<li><a rel="font120">'+this.lang_vars.font_120+"</a><br /></li>";html+='<li><a rel="font140">'+this.lang_vars.font_140+"</a></li>";$("#editorFont").html(html);html='<a rel="color-450501"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/450501.png" /></a>';html+='<a rel="color-ab7877"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/ab7877.png" /></a>';html+='<a rel="color-fea7a5"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/fea7a5.png" /></a>';html+='<a rel="color-fa778a"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/fa778a.png" /></a>';html+='<a rel="color-ff4b00"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/ff4b00.png" /></a>';html+='<a rel="color-ff0a00"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/ff0a00.png" /></a>';html+='<a rel="color-a51500"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/a51500.png" /></a>';html+='<a rel="color-df7e00"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/df7e00.png" /></a>';html+='<a rel="color-fab600"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/fab600.png" /></a>';html+='<a rel="color-cfb000"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/cfb000.png" /></a>';html+='<a rel="color-fffa05"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/fffa05.png" /></a>';html+='<a rel="color-fbd532"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/fbd532.png" /></a>';html+='<a rel="color-494700"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/494700.png" /></a>';html+='<a rel="color-3e7506"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/3e7506.png" /></a>';html+='<a rel="color-7dd100"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/7dd100.png" /></a>';html+='<a rel="color-71f93c"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/71f93c.png" /></a>';html+='<a rel="color-38d200"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/38d200.png" /></a>';html+='<a rel="color-007645"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/007645.png" /></a>';
html+='<a rel="color-3cd2a5"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/3cd2a5.png" /></a>';html+='<a rel="color-00fadb"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/00fadb.png" /></a>';html+='<a rel="color-00746e"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/00746e.png" /></a>';html+='<a rel="color-74d6ff"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/74d6ff.png" /></a>';html+='<a rel="color-007cac"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/007cac.png" /></a>';html+='<a rel="color-00407b"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/00407b.png" /></a>';html+='<a rel="color-4382d7"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/4382d7.png" /></a>';html+='<a rel="color-46437e"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/46437e.png" /></a>';html+='<a rel="color-d83bf5"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/d83bf5.png" /></a>';html+='<a rel="color-ff3280"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/ff3280.png" /></a>';html+='<a rel="color-000000"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/000000.png" /></a>';html+='<a rel="color-555454"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/555454.png" /></a>';html+='<a rel="color-7b7b7b"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/7b7b7b.png" /></a>';html+='<a rel="color-a0a0a0"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/a0a0a0.png" /></a>';html+='<a rel="color-bdbdbd"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/bdbdbd.png" /></a>';html+='<a rel="color-d1d1d1"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/d1d1d1.png" /></a>';html+='<a rel="color-ffffff"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/ffffff.png" /></a>';$("#editorColors").html(html);html='<a rel="smile"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/smile.png" alt="'+this.lang_vars.sm_smile+'" title="'+this.lang_vars.sm_smile+'" /></a>';html+='<a rel="grin"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/grin.png" alt="'+this.lang_vars.sm_grin+'" title="'+this.lang_vars.sm_grin+'" /></a>';html+='<a rel="sad"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/sad.png" alt="'+this.lang_vars.sm_sad+'" title="'+this.lang_vars.sm_sad+'" /></a>';html+='<a rel="wink"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/wink.png" alt="'+this.lang_vars.sm_wink+'" title="'+this.lang_vars.sm_wink+'" /></a>';html+='<a rel="confused"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/confused.png" alt="'+this.lang_vars.sm_confused+'" title="'+this.lang_vars.sm_confused+'" /></a>';html+='<a rel="tongue"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/tongue.png" alt="'+this.lang_vars.sm_tongue+'" title="'+this.lang_vars.sm_tongue+'" /></a>';html+='<a rel="shy"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/shy.png" alt="'+this.lang_vars.sm_shy+'" title="'+this.lang_vars.sm_shy+'" /></a>';html+='<a rel="angry"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/angry.png" alt="'+this.lang_vars.sm_angry+'" title="'+this.lang_vars.sm_angry+'" /></a>';html+='<a rel="dislike"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/dislike.png" alt="'+this.lang_vars.sm_dislike+'" title="'+this.lang_vars.sm_dislike+'" /></a>';html+='<a rel="boss"><img src="'+this.config.path+"/skins/"+this.config.skin+'/images/icons/boss.png" alt="'+this.lang_vars.sm_boss+'" title="'+this.lang_vars.sm_boss+'" /></a>';$("#smileys-popup").html(html)}};